\section{Mathematics}
\begin{Exercise}
Say we wish to rotate an arbitrary point $(x,y,z)$ over an angle $\theta$
around the point $(2,1,3)$ in the plane XZ.
Give two ways to compute this.
\begin{solution}
\begin{itemize}
  \item Using quaternions. Rotated point has coordinates $(x' + 2, y' + 1, z' + 3)$:
        \[
          \begin{array}{rcl}
            q & = & (x - 2) i+(y - 1) j+(z - 3) k \\ \\
            r & = & \displaystyle \cos\left(\frac\theta2\right) +
                    \sin\left(\frac\theta2\right) j \\ \\
            \conj{r} & = & \displaystyle \cos\left(\frac\theta2\right) -
                           \sin\left(\frac\theta2\right) j \\ \\
            x'i+y'j+z'k & = & r \cdot q \cdot \conj{r} \\
          \end{array}
        \]
  \item Using matrices
        \[
          \left[
            \begin{array}{c}
              x' \\
              y' \\
              z' \\
              1
            \end{array}
          \right]
          =
          \left[
            \begin{array}{cccc}
              1 & 0 & 0 & 2 \\
              0 & 1 & 0 & 1 \\
              0 & 0 & 1 & 3 \\
              0 & 0 & 0 & 1 \\
            \end{array}
          \right]
          \cdot
          \left[
            \begin{array}{cccc}
              \cos\theta & 0 & \sin\theta & 0 \\
              0 & 1 & 0 & 0 \\
              -\sin\theta & 0 & \cos\theta & 0 \\
              0 & 0 & 0 & 1 \\
            \end{array}
          \right]
          \cdot
          \left[
            \begin{array}{cccc}
              1 & 0 & 0 & -2 \\
              0 & 1 & 0 & -1 \\
              0 & 0 & 1 & -3 \\
              0 & 0 & 0 & 1 \\
            \end{array}
          \right]
          \cdot
          \left[
            \begin{array}{c}
              x \\
              y \\
              z \\
              1
            \end{array}
          \right]
        \]
\end{itemize}
\end{solution}
\end{Exercise}


\begin{Exercise}
I want to be able to rotate an arbitrary point $(x,y,z)$ around a point $(4,0,3)$ in a plane
with normal vector $\vec n = (1,2,3)$ by some angle $\alpha$. What computations do I need to perform?
\begin{solution}
Let
\[
  p = (x-4)i+yj+(z-3)k
\]
We normalise the vector $\vec n = (1, 2, 3)$:
\[
  \frac{\vec v}{\norm{\vec v}} = \left( \frac{1}{\sqrt{1^2+2^2+3^2}}, \frac{2}{\sqrt{1^2+2^2+3^2}}, \frac{3}{\sqrt{1^2+2^2+3^2}} \right)
\]
Let
\[
  q = \cos\frac\alpha2 +
  \sin\left(\frac\alpha2\right) \frac{1}{\sqrt{1^2+2^2+3^2}} i +
  \sin\left(\frac\alpha2\right) \frac{2}{\sqrt{1^2+2^2+3^2}} j +
  \sin\left(\frac\alpha2\right) \frac{3}{\sqrt{1^2+2^2+3^2}} k
\]
We perform the multiplication
\[
  p' = q \cdot p \cdot \conj{q}
\]
$p'$ is of the form $x' i+y' j+z' k$. $(x' + 4, y', z' + 3)$ is the result of the rotation.
\end{solution}
\end{Exercise}


\begin{Exercise}
Which transformation matrices transform the solid shape $S_1$ into the dashed shape $S_2$ and back?
In other words, find the matrices $M$ and $M^{-1}$ such that
\[
  M \cdot S_1 = S_2 \qquad M^{-1} \cdot S_2 = S_1
\]
Write $A$ and $B$ as multiplications of basic transformation matrices (translation, scaling, rotation).
The grid is tilted 45\degrees. Use it to help you determine the exact size of the shapes.
\begin{center}
  \begin{tikzpicture}
    \path[clip] (-5,-3) rectangle (5,4);
    \draw[axis] (-4,0) -- (4,0) node[anchor=south] {X};
    \draw[axis] (0,-4) -- (0,4) node[anchor=north west] {Y};
    \draw[thin,gray,rotate=45] (-8,-8) grid (8,8);

    \draw[thick] (0,0) circle (1);

    \draw[dashed,thick,rotate=45] (0,1) circle [x radius=2,y radius=3];
  \end{tikzpicture}
\end{center}
\begin{solution}
\[
  M =
  \left[
    \begin{array}{ccc}
      \cos(-45\degrees) & -\sin(-45\degrees) & 0 \\
      \sin(-45\degrees) & \cos(-45\degrees) & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
  \cdot
  \left[
    \begin{array}{ccc}
      1 & 0 & -1 \\
      0 & 1 & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
  \cdot
  \left[
    \begin{array}{ccc}
      3 & 0 & 0 \\
      0 & 2 & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
\]
\[
  M^{-1} =
  \left[
    \begin{array}{ccc}
      1/3 & 0 & 0 \\
      0 & 1/2 & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
  \cdot
  \left[
    \begin{array}{ccc}
      1 & 0 & 1 \\
      0 & 1 & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
  \cdot
  \left[
    \begin{array}{ccc}
      \cos(45\degrees) & -\sin(45\degrees) & 0 \\
      \sin(45\degrees) & \cos(45\degrees) & 0 \\
      0 & 0 & 1
    \end{array}
  \right]
\]
\end{solution}
\end{Exercise}

\begin{Exercise}
Which transformation matrices transform the solid shape $S_1$ into the dashed shape $S_2$ and back?
In other words, find the matrices $A$ and $B$ such that
\[
  A \cdot S_1 = S_2 \qquad B \cdot S_2 = S_1
\]
Write $A$ and $B$ as multiplications of basic transformation matrices (translation, scaling, rotation).
The grid is tilted 30\degrees. Use it to help you determine the exact size of the shapes.
\begin{center}
  \begin{tikzpicture}
    \path[clip] (-5,-5) rectangle (5,5);
    \draw[axis] (-4,0) -- (4,0) node[anchor=south] {X};
    \draw[axis] (0,-4) -- (0,4) node[anchor=west] {Y};
    \draw[thin,gray,rotate=30] (-8,-8) grid (8,8);

    \begin{scope}[rotate=30]
      \draw[thick] (1,0) rectangle ++(2,1);
    \end{scope}

    \begin{scope}[rotate=120]
      \draw[thick,dashed] (1,0) rectangle ++(1,1);
    \end{scope}
  \end{tikzpicture}
\end{center}
\begin{solution}
\[
  M = \mathrm{Rot}[30\degrees] \cdot \mathrm{Tr}[-1,1] \cdot \mathrm{Sc}[\frac12,1] \cdot \mathrm{Tr}[-1,0] \cdot \mathrm{Rot}[-30\degrees]
\]
\[
  M^{-1} = \mathrm{Rot}[30\degrees] \cdot \mathrm{Tr}[1,0] \cdot \mathrm{Sc}[2,1] \cdot \mathrm{Tr}[1,-1] \cdot \mathrm{Rot}[-30\degrees]
\]
Has to be written down in matrix form on the exam, but using shorthand notation first can help.
\end{solution}
\end{Exercise}

\begin{Exercise}
Find two ways to transform the solid shape $S_1$ into the dashed shape $S_2$.
Give also the inverse transformations.
In other words, find two matrices $A$ and $B$ such that
\[
  A \cdot S_1 = S_2 \qquad B \cdot S_1 = S_2
\]
Write $A$ and $B$ and their inverse matrices $A^{-1}$ and $B^{-1}$ as multiplications of basic
transformation matrices (translation, scaling, rotation).
\begin{center}
  \begin{tikzpicture}
    \path[clip] (-7,-5) rectangle (7,5);
    \draw[axis] (-7,0) -- (7,0) node[anchor=south east] {X};
    \draw[axis] (0,-5) -- (0,5) node[anchor=north west] {Y};

    \draw[thin,gray] (-8,-8) grid (8,8);

    \begin{scope}[]
      \draw[thick] (-2,-1) rectangle ++(4,2);
    \end{scope}

    \begin{scope}[xshift=2cm,scale=2]
      \draw[thick,dashed] (-2,-1) rectangle ++(4,2);
    \end{scope}
  \end{tikzpicture}
\end{center}
\begin{solution}
\[
  A = \mathrm{Tr}[2,0] \cdot \mathrm{Sc}[2,2] \qquad B = \mathrm{Sc}[2,2] \cdot \mathrm{Tr}[1,0]
\]
\[
  A^{-1} = \mathrm{Sc}[\frac12,\frac12] \cdot \mathrm{Tr}[-2,0] \qquad B^{-1} = \mathrm{Tr}[-1,0] \cdot \mathrm{Sc}[\frac12,\frac12]
\]
Has to be written down in matrix form on the exam, but using shorthand notation first can help.
\end{solution}
\end{Exercise}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "model-exam"
%%% End:
