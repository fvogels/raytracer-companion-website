trace(scene, ray)
  result = black

  find intersection between scene and ray

  result += ambient
  result += diffuse
  result += specular

  if material is reflective
    ray' = compute reflection of ray
    result += trace(scene, ray')

  return result